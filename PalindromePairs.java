package oneMorePractice;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

public class PalindromePairs {

	public static void main(String[] args) {

		String[] words =  {"jbbfchhghiidiabc","fggahdbgg","hdbcdcgahhabe","jfce","cfd","bfcdddhc","ifcbcjfhgdjijgii","jafaiadefcidibeffhg","jceei","ifadccfdjade","cbhbh","eadeadjeebeg","cafjeebdhbj","echbhggjefc","jjcgaecbgjagabhfceff","fede","gcg","fcgiifbjjijidgdcagff","behcfh","ghb","gjahgdggcfd","bgbccbedfggbaecjic","iegccagjef","jicibihjajaajid","agiafdbbbbhe","bciadec","ijifhhdgdd","agaijigieicdga","adaieajh","i","eeihecdhdcccjd","bjediigfegfadbedg","bjjbgfiggcjjiebi","icdjb","hbhgfbdibeii","bjjdgfij","heijjhheifeedg","cajg","dce","cccihgfaf","gfbcafihfjefe","abgjeechdfgdegfdg","agcejhiaacci","di","cjbbaejdifehecb","giih","bg","hhhjjdgif","efdcdeaifcjg","dj","jag","fchhfbgfeejdgbc","hccjhdadhfbacahebad","ajedbeafbcbchbeci","ch","aiiajiibcbeahc","ggfggbcjdd","eedihaffdeij","fcfi","cfbd","ccifiidjifcge","dffjdjidehh","ccejcahhd","eaeehbchiefhie","ifjihg","jjddgfhdeebcd","aefbhecjgjg","caeedcdbgddbhjfahcj","aafg","dgifaieaejaehgcacfi","ggicjeheijdb","aaifcaeaebfhb","ifdebbfbcjjf","jbddih","ajhgbbcebaca","djjigjeahihijeabfgg","gjahdeffdece","c","ejgcgacacefgjdcj","efdebbebia","hbeiaabjigbghggchhg","fehe","gihhgcbijgbiicegiif","hbiedddeihfadag","fecbbcfaiggfd","h","cabdbh","eceabcdbchehdhfjbj","ejai","cjfeahcjd","ejcibibcaj","jibejjdfdejfhcfheb","dfgdgibcaeahjdg","haihbdacfajbbbggfii","fcbbhaecfeii","cafcfdbheeghh","fiighfh","fbddheedbadhihfccba","cacddagabaahjh","eejjgbjiffgc","ecgbdcdcedaeijbg","fejiiebghbidch","fia","fjjdgicbgdjaf","gb","aeeafiajfaiahgbhegf","jfhejdfjjhaji","ggacbhheaiegabafdee","jdfjch","ejcgg","gedhch","dibja","idiaeebbdecjfdejibf","hibhi","hjfejdggb","g","jfbjgdih","djabbgdfcjjffgd","dabdij","dajcfdjeh","ehjaice","iihjeejhbdjh","did","eiidghaf","gfaceddh","dadhjgeihjdgbaeie","fef","hjfffeiddibfge","hhjgiegbigbfcjc","cijg","f","fjdacbgihejcifgfj","ffg","bbhcggiheifcihegdd","ecifejhg","edhjebfhbcacgggehead","dbcffhigcg","cjeeccgdcgaj","cdjichajjjadedb","cbfgfjefafgdfjeb","cgjgf","hjibcjfjgff","cagffj","eaaejde","ibfadagfaddjdcdfdca","hcjibdaj","eehbh","aifbdgbabaffbgaajh","bddcaigfbgae","bhfibjjgcabjef","eeh","ghbibfgghajbfaia","bjdbfigfiecibad","daehaebeigjgcaag","gcfeec","ajagigibhb","jcfhdbfhbidihjf","ehiej","b","chcbcacijcbdigh","jjibbai","ajefcdfccehc","aijhdhhffgh","hcecaaae","dieejdjjhaffdbebaij","gid","ieddfhbcjgidjichd","cd","fec","iicjhgad","ege","ajaa","cbhcfih","dfaahaecibea","fdbchcg","ahaagbffeeicdhed","gbdjjiigjgh","gc","ahggef","afcagacdaf","hefbfbc","egfgdhfgh","dbibcd","higjjcfaiajfchdcjgf","hgbgigciii","ajac","bi","bdbeefdccbfcijheaae","hecegijfbcbfegaj","heb","fggaaddbfaeihgde","eidgda","hibccahhfhjeehdfg","fjac","gebadedccdeij","ebieajiddfbgac","jfcgigejcjfaaefcbd","fbjfjggghcjigcbjh","cbebhb","cgfjhijfeebcehga","d","fafdbhcgij","hfecibjde","jabjiagceiffja","cigciagcae","iiggaddcbdjgeeec","afjhecbfc","gcadchgjcgjcbf","aejdjadeghebjbhef","iegggajjadgf","iffchijiig","fehac","ibiidchfhhjgja","hdiefegeaidggc","abgghhfdhigidjhcg","bhdjfghjegb","edgjecehcbecfaigebd","ggciaibejefjjchehb","gefdjffbbccgdcd","ddjhdfhe","jiehgjighh","hajdab","bfbhaiaiihdaeicdbaji","gebecj","igjhfdaccjfajf","ghhgbedhj","dghjhi","ijcbdacjji","fcadd","ajedgieagf","cggjabejfhagej","afhddgadfdef","fdhifhhe","hhibdjhbjiah","gdj","cfjd","cja","igfacfhdc","ahhcj","dhjafgdhcebgbefc","bdcaebdbbdijhbi","gji","decibf","dghabac","jfd","idhjbcabfgfgdg","ibgehghhfeabi","eegggihcgj","ffaibcgae","fhcegf","aecghib","iajeiifdfibaeg","cfabfdjebbffcaaf","gdihgdijdgfhfgajfh","febjaad","aedaaifgied","bcjeahcgbjif","cic","fjjgebbbbhjfch","hedahdfeehdeccgecg","fcdgjfiegd","dcejgjehhh","dgdchghcdhigcai","hhbijie","cfi","aagchcie","jiagie","jfhfajeec","faidbed","effjdajccbcfhadd","aababdaedhijdchbic","feeggjfgbe","fbaecbaaeagiiieadcbd","iijfgf","bfaaideabfachicf","gbdhcdecjchfd","edejfg","dfjhdjiiafccafjdcdi","ici","gajeegbfifg","fadjjcgjaigfgi","jcfhdigj","jghcf","hjbejcdjbiacjjca","cadjhce","fj","aahbeagbgbi","ea","e","jihghibjhdcbcbhchia","eegi","febgja","digj","iabfieafbgeahfbd","eideachhbffdjbbaj","aeibcicfcjihjdabcfej","eidhieajdjbjgcefg","fifhfjffccdffcfc","jcgdhbgdebhbhhi","jfbjfdcfb","jdicicdcf","hfbbcebhhjiehacedd","ehffbjcgdhfg","dhhciggaiafdi","ggia","aihdbi","baeebcieai","cccg","j","ffjhagjgjhaggh","gchcbeifecjfiaf","diehajgcdddafhigdb","djdfdadjhjfdeee","edbidaadegficja","jhbefhbbgicgajjfc","gdahbbhce","fgfaeajgj","cgghbejcheg","bcfbijcja","adchijheebjc","iaii","aeeaheiegfbg","aiij","bhffecejfgif","gjf","bgeddgg","iigbdgihcdbgiaaa","fdbhfbeeifjgif","giacjagcfffefgddbdf","jcdacggdfa","gebahgddgfjecigdahag","ccjihh","gchecfbfbeaahfei","igiceaee","ajd","baifc","giiejbdcecbcfiiiccji","fh","fibaaedhhighcjejgah","iidaiachadde","gefadgeagjjfacdhgc","ahdabhcbigeffbihffh","fiiffceeafabhh","ceicdac","fijfibadfajfbbacajej","gjeaheeefgecifg","dejbbddcfiaiee","ahidf","gbddjeaebfcbh","ajdbcfjhdijcedhfg","eiiddjhdhdab","dijgid","eh","iebgijhhffecddih","dfiad","aaa","bead","cdhbdcjcgbhgc","cih","acbgjehd","hb","fdjdficca","bafbchhd","jhjg","gbcjfjcbgddg","heg","gigcb","bhgjigdbhfbfaa","jjch","fgcccc","bhihbbbifeiiabdh","bifbbcfgbdie","dfeaaiebidaici","cieafehafgh","bicagfici","ibj","dgdcge","chfadg","gaaadccfgadi","hjdbcaafa","gfdc","bgfecijcjiicdjicdi","idgdeejdeidhiecfaf","cdbbdeigjfihig","ifdf","aiebdcbfaegbeea","jahggbbeejgcebab","bcgajcceggfiejj","agaffg","fbgbaijihddjjfh","fgibffbf","bf","cdcahbeadhffeedaej","ijeidheehcbacf","igji","ehhadgjaajf","hejdjaajeedgfcgbhcj","fcecjjhjc","jjieaiehjecd","cfifdbehdfbbafgajej","bd","jejfab","egdigaf","fggjechggfeagccff","bbijbediejhidfhc","iacjddbfdc","eeeddgabheiaj","aegcchdjhghb","hceahacijfddbfdfggie","idcgjceg","ggihecbgefgajj","jhcfcfcjbhbadgfifacc","fcffcje","idji","fggfjjifcff","jjghbgfgjeecdfi","eaaahbjiijccffiehb","adbac","cecjabddcdcgfdjcbj","jdbhiecbbdidihiba","ibaibdebhdfic","ab","igegbecd","bdedjfihdaeaheid","bhdidfbeccdhajia","eifjdeebdhchjedfc","gihfjf","ibahjcfagdgci","fhhijfcg","facdgacfieciai","eaiedbcgfegebei","cgcabhjjfebcf","bhiibhjdihbbdcd","jjfgejcheiddecbfafbi","ecjfjbbcf","eeafcjjjghfbbjgdghe","ef","fagidbi","dbbcahdfaf","bbichhhcihebceg","dcbagihdeh","edfcajcccge","igdeg","hg","hej","jihehhge","jhdfihbicfeei","fejihaggjjigaggcige","ddghfdd","dcbdji","ecbih","bbbihaieccdicggfihec","jciihdiiieiff","ajchbgfbfbejhi","hebi","biebciddfgabfg","fgibbjhja","eajchedegjhehjhbgchf","cjhggddj","ghjdfjhfcfibedbc","efcidfe","jb","gabihjggbabgbci","gjbidabfaij","cbbjccbejfejcabcg","ehgdihce","ggffgja","efhbffeeheaigigbcha","ceg","bhgbdjfedfhegfihajh","cafhicjbiidffich","febgbhiciad","gbcgbhhajagiejddf","hacafcefbhgjgji","dgh","djbghacaggg","bdafhieja","gjabdbdaigfadcjidg","djgajchgf","afeiddb","bb","hjdaaceifbj","jcaggicfdjidiefbgh","fc","ifhfefdhb","fjgbejfa","ga","cifjahchd","fbihejj","ccdgbifefjadidfehfia","beadcbfiagahj","jjghiggbhdadebfadch","ccihdgbhjbghdeahd","daabaediji","hifaihdgaji","efecjebebbcdehgbfacd","cfadghfhdj","gdigjcj","acdgbbcfhh","cbed","cj","hjjfbahhaeddidifia","cchagb","gaajiiajiffa","igaggehb","jccdcf","dedig","gjcjhhjhigigddfchfa","fgaiihebhfaacgbbihia","jahiejdadeda"};
		
		 //List<List<Integer>> list=palindromePairs(words);
		 
		List<List<Integer>> list=palindromePairs1(words);
		 
		 System.out.println(list);
	}

	
	
    public static List<List<Integer>> palindromePairs(String[] words) {

    	List<List<Integer>> listMain=new  ArrayList<List<Integer>>();
    	
    	ArrayList<Integer> list=null;
    	
    	for(int i=0;i<words.length;i++){
    		    		
    		for(int j=i+1;j<words.length;j++){

    			
    			
    			if(isPalindrome(words[i],words[j]))
    				{	list=new ArrayList<Integer>();
    					list.add(i);
    					list.add(j);
    				}
    			
    			if(list !=null && !list.isEmpty())
    				{listMain.add(list);list=null;}
    			
    			
    			
    			if(isPalindrome(words[j],words[i]))
    				{	list=new ArrayList<Integer>();
    					list.add(j);
    					list.add(i);
    				}
    			
    			if(list !=null && !list.isEmpty())
    				{listMain.add(list);list=null;}
    			
    		}
    		
    	}
    	
    	return listMain;
    }
    
    
    public static boolean isPalindrome(String a,String b){
    	
    	StringBuffer buf1=new StringBuffer(a);
    	buf1.append(b);

    	StringBuffer buf2=new StringBuffer(buf1);
    	buf2.reverse();
    	

    	return buf1.toString().equals(buf2.toString());
    }
    
    
    
    public static List<List<Integer>> palindromePairs1(String[] words) {
        
        List<List<Integer>> result = new ArrayList<List<Integer>>();
     
        HashMap<String, Integer> map = new HashMap<String, Integer>();
        for(int i=0; i<words.length; i++){
            map.put(words[i], i);
        }
     
        for(int i=0; i<words.length; i++){
            String s = words[i];
     
            //if the word is a palindrome, get index of ""
            if(isPalindrome(s)){
                if(map.containsKey("")){
                    if(map.get("")!=i){
                        ArrayList<Integer> l = new ArrayList<Integer>();
                        l.add(i);
                        l.add(map.get(""));
                        result.add(l);
     
                        l = new ArrayList<Integer>();
     
                        l.add(map.get(""));
                        l.add(i);
                        result.add(l);
                    }
     
                }
            }
     
            //if the reversed word exists, it is a palindrome
            String reversed = new StringBuilder(s).reverse().toString();
            if(map.containsKey(reversed)){
                if(map.get(reversed)!=i){
                    ArrayList<Integer> l = new ArrayList<Integer>();
                    l.add(i);
                    l.add(map.get(reversed));
                    result.add(l);
                }
            }
     
            for(int k=1; k<s.length(); k++){
                String left = s.substring(0, k);
                String right= s.substring(k);
     
                //if left part is palindrome, find reversed right part
                if(isPalindrome(left)){
                    String reversedRight = new StringBuilder(right).reverse().toString();
                    if(map.containsKey(reversedRight)){
                         if(map.get(reversedRight)!=i){
                            ArrayList<Integer> l = new ArrayList<Integer>();
                            l.add(map.get(reversedRight));
                            l.add(i);
                            result.add(l);
                         }
                    }
                }
     
                //if right part is a palindrome, find reversed left part
                if(isPalindrome(right)){
                    String reversedLeft = new StringBuilder(left).reverse().toString();
                    if(map.containsKey(reversedLeft)){
                        if(map.get(reversedLeft)!=i){
     
                            ArrayList<Integer> l = new ArrayList<Integer>();
                            l.add(i);
                            l.add(map.get(reversedLeft));
                            result.add(l);
                        }
                    }
                }
            }
        }
     
        return result;
        
        }
        
           public static boolean isPalindrome(String s){
     
     
        int i=0;
        int j=s.length()-1;
     
        while(i<j){
            if(s.charAt(i)!=s.charAt(j)){
                return false;
            }
     
            i++;
            j--;
        }
        return true;
    }
    	
    
}
